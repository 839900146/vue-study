(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3338aaac"],{2735:function(e,t,a){},"34c3":function(e,t,a){"use strict";var r=a("2735"),i=a.n(r);i.a},"3e10":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"serverTest"},[a("h4",[e._v("用户列表")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.showDialog()}}},[e._v("新增")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"180"}}),a("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"180"}}),a("el-table-column",{attrs:{prop:"loginName",label:"登录名"}}),a("el-table-column",{attrs:{prop:"phone",label:"电话"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.delData(t.row)}}},[e._v("删除")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.showDialog(t.row)}}},[e._v("修改")])]}}])})],1),a("el-dialog",{attrs:{title:"操作",visible:e.operateDialog,width:"30%"},on:{"update:visible":function(t){e.operateDialog=t}}},[a("span",{staticClass:"body"},[a("el-form",{attrs:{model:e.userModel,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.userModel.userName,callback:function(t){e.$set(e.userModel,"userName",t)},expression:"userModel.userName"}})],1),a("el-form-item",{attrs:{label:"登录名"}},[a("el-input",{model:{value:e.userModel.loginName,callback:function(t){e.$set(e.userModel,"loginName",t)},expression:"userModel.loginName"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{model:{value:e.userModel.phone,callback:function(t){e.$set(e.userModel,"phone",t)},expression:"userModel.phone"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.operateDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmOperate}},[e._v("确 定")])],1)]),a("page-component",{attrs:{"page-config":e.pageConfig},on:{changeCurrentPage:e.changeCurrentPage}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"scroll_test"},[a("div",{staticClass:"left"},e._l(e.testList,(function(t,r){return a("a",{key:r,staticClass:"floor_list",class:{active:e.selectIndex===r},on:{click:function(a){return e.changeSelect(r,t.floorId)}}},[e._v(e._s(t.floorId+"F"))])})),0),a("div",{staticClass:"right",staticStyle:{position:"relative"}},[a("div",{staticClass:"floor_name_fixed"},[e._v(" "+e._s(e.testList[this.selectIndex].floorId)+" ")]),e._l(e.testList,(function(t,r){return a("div",{key:r,staticClass:"room_content",class:{scroll_in_content:e.selectIndex===r},attrs:{id:t.floorId}},[a("div",{staticClass:"floor_name"},[e._v(e._s(t.floorId))]),a("div",{staticClass:"room_list"},e._l(t.roomList,(function(t,r){return a("div",{key:r,staticClass:"room_item"},[e._v(" "+e._s(t.area)+" ")])})),0)])}))],2)])],1)},i=[],n=a("4e2d"),o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;if(!a)return document.getElementsByClassName("right")[0].scrollTop=t,t;var r=10,i=a/r,n=document.getElementsByClassName("right")[0].scrollTop,o=(t-n)/i,s=setInterval((function(){i>0?(i--,e(n+=o)):clearInterval(s)}),r)},s={name:"serverTest",data:function(){return{userList:[],selectIndex:0,testList:[{floorId:1,roomList:[{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5}]},{floorId:2,roomList:[{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5}]},{floorId:3,roomList:[{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5}]},{floorId:4,roomList:[{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5}]},{floorId:5,roomList:[{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5}]},{floorId:6,roomList:[{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5},{id:1,area:40,height:5}]}],activeIndex2:"1",operateDialog:!1,userModel:{},operateType:"add",pageConfig:{pageNo:1,pageSize:10}}},components:{"page-component":n["a"]},mounted:function(){},methods:{changeSelect:function(e,t){var a=document.getElementsByClassName("right")[0],r=document.getElementById(t);console.log(a.scrollTop,r.offsetTop,a.offsetTop,a.scrollTop+r.offsetTop-a.offsetTop),this.$nextTick((function(){o(r.offsetTop,520)}))},delData:function(e){var t=this;this.$confirm("此操作将永久删除该用户？, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$del("/users/del",{id:e.id},(function(e){e.success?(t.getUserList(),t.showAlert()):t.showAlert("error",e.message)}))}))},showDialog:function(e){e?(this.operateType="edit",this.userModel=Object.assign(e,{})):(this.operateType="add",this.userModel={}),this.operateDialog=!0},confirmOperate:function(){var e=this,t=function(t){t.success?(e.showAlert(),e.getUserList()):e.showAlert("error",t.message),e.operateDialog=!1};"add"==this.operateType?this.$post("/users/add",this.userModel,t):this.$put("/users/update",this.userModel,t)},changeCurrentPage:function(e){this.pageConfig.pageNo=e,this.getUserList()},getUserList:function(){var e=this;this.$get("/users/list",this.pageConfig,(function(t){t.success&&(e.userList=t.data.data,e.pageConfig=e.getPageConfig(t,e.pageConfig))}))}},computed:{},created:function(){this.getUserList()}},l=s,c=(a("34c3"),a("2877")),u=Object(c["a"])(l,r,i,!1,null,null,null);t["default"]=u.exports},"4e2d":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.pageConfig.total?a("div",{staticClass:"pageComponent"},[a("button",{attrs:{disabled:1===e.currentPage},on:{click:e.prePage}},[e._v("上一页")]),e.pageTotal<=e.showPageNo?e._l(e.pageTotal,(function(t){return a("button",{key:t,class:{active:t===e.currentPage},on:{click:function(a){return e.changeCurrentPage(t)}}},[e._v(e._s(t))])})):e.currentPage<4?[e._l(6,(function(t){return a("button",{key:t,class:{active:t===e.currentPage},on:{click:function(a){return e.changeCurrentPage(t)}}},[e._v(e._s(t))])})),a("button",{attrs:{disabled:!0}},[e._v("···")]),a("button",{on:{click:function(t){return e.changeCurrentPage(e.pageTotal)}}},[e._v(e._s(e.pageTotal))])]:e.currentPage>e.pageTotal-4?[a("button",{on:{click:function(t){return e.changeCurrentPage(1)}}},[e._v("1")]),a("button",{attrs:{disabled:!0}},[e._v("···")]),e._l(6,(function(t){return a("button",{key:t,class:{active:t+(e.pageTotal-6)===e.currentPage},on:{click:function(a){e.changeCurrentPage(t+(e.pageTotal-6))}}},[e._v(e._s(t+(e.pageTotal-6)))])}))]:[a("button",{on:{click:function(t){return e.changeCurrentPage(1)}}},[e._v("1")]),a("button",{attrs:{disabled:!0}},[e._v("···")]),a("button",{on:{click:function(t){return e.changeCurrentPage(e.currentPage-2)}}},[e._v(e._s(e.currentPage-2))]),a("button",{on:{click:function(t){return e.changeCurrentPage(e.currentPage-1)}}},[e._v(e._s(e.currentPage-1))]),a("button",{staticClass:"active"},[e._v(e._s(e.currentPage))]),a("button",{on:{click:function(t){return e.changeCurrentPage(e.currentPage+1)}}},[e._v(e._s(e.currentPage+1))]),a("button",{on:{click:function(t){return e.changeCurrentPage(e.currentPage+2)}}},[e._v(e._s(e.currentPage+2))]),a("button",{attrs:{disabled:!0}},[e._v("···")]),a("button",{on:{click:function(t){return e.changeCurrentPage(e.pageTotal)}}},[e._v(e._s(e.pageTotal))])],a("button",{attrs:{disabled:e.currentPage===e.pageTotal},on:{click:e.nextPage}},[e._v("下一页")])],2):e._e()},i=[],n={name:"pageComponent",props:{pageConfig:{type:Object,require:!0,default:function(){return{pageSize:10,pageNo:0,total:0,pageTotal:0}}}},data:function(){return{showPageNo:8,currentPage:0}},methods:{prePage:function(){this.currentPage-=1,this.$emit("changeCurrentPage",this.currentPage)},nextPage:function(){this.currentPage+=1,this.$emit("changeCurrentPage",this.currentPage)},changeCurrentPage:function(e){this.currentPage=e,this.$emit("changeCurrentPage",this.currentPage)}},computed:{pageTotal:function(){var e=this.pageConfig;return e.pageTotal?e.pageTotal:e.pageSize&&e.total?Math.ceil(e.total/e.pageSize):0}},created:function(){this.currentPage=this.pageConfig.pageNo||0}},o=n,s=(a("d430"),a("2877")),l=Object(s["a"])(o,r,i,!1,null,null,null);t["a"]=l.exports},5393:function(e,t,a){},d430:function(e,t,a){"use strict";var r=a("5393"),i=a.n(r);i.a}}]);
//# sourceMappingURL=chunk-3338aaac.eb94f190.js.map